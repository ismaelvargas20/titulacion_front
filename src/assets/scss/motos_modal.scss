.moto-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(2,6,23,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1200;
  padding: 28px;
}
.moto-modal {
  background: var(--card-bg, #0f1720);
  color: var(--text, #fff);
  border-radius: 14px;
  width: 100%;
  max-width: 980px;
  display: flex;
  gap: 18px;
  position: relative;
  padding: 18px;
  box-shadow: 0 30px 80px rgba(2,6,23,0.6);
}
.moto-modal .btn { transition: transform 160ms ease, box-shadow 160ms ease, filter 120ms ease; }
.moto-modal .btn.btn-primary {
  background: linear-gradient(90deg, var(--cta-light, #0b73ff), #4fb8ff);
  color: #fff;
  padding: 10px 16px;
  border-radius: 10px;
  box-shadow: 0 12px 30px rgba(11,115,255,0.16);
  font-weight: 800;
}
.moto-modal .btn.btn-primary:hover { transform: translateY(-3px); filter: brightness(0.98); box-shadow: 0 18px 40px rgba(11,115,255,0.18); }
.moto-modal .btn:not(.btn-primary) {
  background: transparent;
  color: var(--text);
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(4px);
}
.moto-modal .btn:not(.btn-primary):hover { background: rgba(255,255,255,0.02); transform: translateY(-2px); }

/* Inputs y textarea más vivos */
.moto-modal input, .moto-modal textarea, .sell-form-grid input, .sell-form-grid select {
  transition: box-shadow 160ms ease, border-color 120ms ease, transform 120ms ease;
}
.moto-modal input:focus, .moto-modal textarea:focus, .sell-form-grid input:focus, .sell-form-grid select:focus {
  outline: none;
  border-color: rgba(11,115,255,0.9);
  box-shadow: 0 6px 26px rgba(11,115,255,0.12);
  transform: translateY(-1px);
}

/* Mejor apariencia para el formulario de contacto en el modal */
.modal-contact input, .modal-contact textarea {
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.04);
}
.modal-contact-actions .btn.btn-primary { padding: 10px 18px; }
.modal-contact-actions .btn { padding: 10px 14px; }

/* Pequeña animación al abrir el modal */
.moto-modal { transform-origin: center; animation: modalPop 260ms cubic-bezier(.2,.9,.2,1); }
@keyframes modalPop { from { opacity: 0; transform: scale(.98) translateY(6px); } to { opacity: 1; transform: scale(1) translateY(0); } }

/* Remove any residual dark outline/border specifically for the Contactar vendedor button */
.moto-modal .modal-actions .btn.btn-primary {
  border: none !important;
  outline: none !important;
  box-shadow: 0 14px 36px rgba(11,115,255,0.18) !important;
}

/* Remove any residual border/edge on the 'Enviar mensaje' button specifically */
.moto-modal .modal-contact-actions .btn.btn-primary {
  border: none !important;
  outline: none !important;
  box-shadow: 0 12px 32px rgba(11,115,255,0.14) !important; /* soft glow, not black edge */
}
.modal-close {
  position: absolute;
  right: 12px;
  top: 12px;
  background: transparent;
  border: none;
  color: var(--text);
  font-size: 1.05rem;
  cursor: pointer;
}
.modal-left { flex: 0 0 46%; }
.modal-left img { width: 100%; height: 340px; object-fit: cover; border-radius: 10px; }
.modal-right { flex: 1 1 auto; display: flex; flex-direction: column; gap: 10px; }
.modal-title { margin: 4px 0 2px 0; font-size: 1.25rem; font-weight: 800; }
.modal-meta { display:flex; gap:12px; align-items:center; color: var(--muted); }
.modal-price { background: var(--price-badge-bg, #0b73ff); color: #fff; padding:6px 10px; border-radius:8px; font-weight:800; }
.modal-desc { color: var(--muted); margin-top: 8px; }
.modal-actions { margin-top: 12px; display:flex; gap:12px; align-items:center; }
.modal-contact { margin-top: 12px; display:flex; flex-direction:column; gap:8px; }
.modal-contact label { display:flex; flex-direction:column; font-size:0.95rem; }
.modal-contact input, .modal-contact textarea { margin-top:6px; padding:12px 14px; border-radius:10px; border:1px solid var(--muted-border); background:transparent; color:var(--text); font-size:0.95rem; }
.modal-contact .field { display:flex; flex-direction:column; }
.modal-contact .modal-contact-actions { display:flex; gap:12px; margin-top:12px; align-items:center; }

/* Grid layout for inputs + message */
.modal-contact-grid { display:grid; grid-template-columns: 1fr 1fr; gap:14px; }
.modal-contact-grid .inputs-col { display:flex; flex-direction:column; gap:10px; }
.modal-contact-grid .message-col { display:flex; flex-direction:column; }

/* Make inputs and textarea look elevated */
.modal-contact input:focus, .modal-contact textarea:focus { box-shadow: 0 10px 30px rgba(11,115,255,0.12); border-color: rgba(11,115,255,0.9); transform: translateY(-1px); }

/* Message textarea full height in desktop */
.modal-contact .message-col textarea { height: 100%; min-height: 160px; resize: vertical; }

/* Small helper / hint text */
.modal-contact .hint { font-size:0.85rem; color:var(--muted); margin-top:6px; }

/* Error message */
.contact-error { margin-top:10px; color: #7b1b1b; background: rgba(123,27,27,0.06); border-left: 4px solid #b91c1c; padding:10px 12px; border-radius:8px; font-weight:700; }
.app-main.dark-theme .contact-error { color: #ffd7d7; background: rgba(150,50,50,0.06); border-left-color: rgba(255,120,120,0.2); }

/* Disabled button state */
.modal-contact .btn[disabled] { opacity: 0.7; cursor: not-allowed; filter: saturate(0.98); }

/* Subject input style */
.modal-contact .field input[readonly] { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.04); color: var(--muted); padding:10px 12px; border-radius:8px; }

/* Small spinner inside button (text fallback used) */
.btn.loading {
  position: relative;
}
.btn.loading::after {
  content: '';
  width: 16px;
  height: 16px;
  border: 3px solid rgba(255,255,255,0.2);
  border-top-color: #fff;
  border-radius: 50%;
  display: inline-block;
  animation: spin 900ms linear infinite;
  margin-left: 8px;
  vertical-align: middle;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Responsive: stack inputs on small screens */
@media (max-width: 760px) {
  .modal-contact-grid { grid-template-columns: 1fr; }
  .modal-left img { height: 160px; }
}
.contact-sent { margin-top:8px; color: #b8f0c1; background: rgba(10,80,40,0.08); padding:8px 10px; border-radius:8px; }

@media (max-width: 880px) {
  .moto-modal { flex-direction: column; }
  .modal-left img { height: 220px; }
}

/* Modal: richer visual details */
.modal-desc { margin-top: 8px; color: var(--muted); }
.modal-desc .desc-lead { margin: 0 0 8px 0; color: var(--text); font-weight: 600; }
.modal-features { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px; }
.modal-features .chip { background: linear-gradient(90deg, rgba(11,115,255,0.12), rgba(79,184,255,0.08)); color: var(--primary); padding:6px 10px; border-radius:999px; font-weight:700; font-size:0.85rem; box-shadow: 0 6px 18px rgba(11,115,255,0.06); }
.modal-specs { list-style:none; margin:6px 0 0 0; padding:0; color:var(--muted); display:flex; gap:18px; flex-wrap:wrap; }
.modal-specs li { font-size:0.9rem; }
.desc-note { margin-top:8px; color:var(--muted); }

/* Make the confirmation message vivid in light mode */
.moto-modal .contact-sent {
  margin-top: 12px;
  background: linear-gradient(90deg, rgba(11,115,255,0.08), rgba(79,184,255,0.06));
  color: #033a66;
  border-left: 4px solid var(--cta-light, #0b73ff);
  padding: 10px 12px;
  border-radius: 8px;
  font-weight: 700;
}

/* Dark theme: keep a green success look */
.app-main.dark-theme .moto-modal .contact-sent {
  background: rgba(10,80,40,0.08);
  color: #b8f0c1;
  border-left-color: rgba(10,160,80,0.4);
}
